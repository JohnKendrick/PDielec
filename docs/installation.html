
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"><meta content="PDielec package for the calculation of infrared and terahertz absorption from QM calculations" name="description" />
<meta content="Quantum Mechanics, Effective Field Theory, Maxwell, Garnett, Mie, Infrared, Terahertz, Castep, Abinit, VASP, GULP. QE" name="keywords" />

    <title>Installation &#8212; PDielec: John Kendrick &amp; Andrew Burnett</title>
    <link rel="stylesheet" href="_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/table_styling.css" />
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"extensions": ["AMSmath.js"], "TeX": {"Macros": {"bm": ["{\\boldsymbol{#1}}", 1], "tensor": ["{\\bar{\\bar{#1}}}", 1], "tensorbs": ["{\\bar{\\bar{\\bm{#1}}}}", 1], "tensorbf": ["{\\bar{\\bar{\\bm{#1}}}}", 1], "fieldbf": ["{\\bar{\\bm{#1}}}", 1], "water": "\\H_{2}O"}}})</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Software components" href="software.html" />
    <link rel="prev" title="Introduction" href="introduction.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>PDielec: John Kendrick &amp; Andrew Burnett</span></a></h1>
        <h2 class="heading"><span>Installation</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="introduction.html">Introduction</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="software.html">Software components</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#anaconda" id="id1">Anaconda</a></p></li>
<li><p><a class="reference internal" href="#pypi" id="id2">PyPi</a></p></li>
<li><p><a class="reference internal" href="#github-linux" id="id3">GitHub - Linux</a></p></li>
<li><p><a class="reference internal" href="#github-windows" id="id4">GitHub - Windows</a></p>
<ul>
<li><p><a class="reference internal" href="#standalone-installation" id="id5">Standalone installation</a></p></li>
<li><p><a class="reference internal" href="#installation-from-repository" id="id6">Installation from repository</a></p>
<ul>
<li><p><a class="reference internal" href="#install-git" id="id7">Install git</a></p></li>
<li><p><a class="reference internal" href="#install-make" id="id8">Install make</a></p></li>
<li><p><a class="reference internal" href="#install-python" id="id9">Install Python</a></p></li>
<li><p><a class="reference internal" href="#install-pdielec" id="id10">Install PDielec</a></p></li>
<li><p><a class="reference internal" href="#testing-pdielec" id="id11">Testing PDielec</a></p></li>
<li><p><a class="reference internal" href="#installing-pdielec-to-run-in-any-git-bash-console" id="id12">Installing PDielec to run in any git bash console</a></p></li>
<li><p><a class="reference internal" href="#updating-pdielec-from-the-git-repository" id="id13">Updating PDielec from the git repository</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#github-pdielec-directory-structure" id="id14">GitHub - PDielec directory structure</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id15">Examples</a></p></li>
</ul>
</div>
<div class="section" id="anaconda">
<h2><a class="toc-backref" href="#id1">Anaconda</a><a class="headerlink" href="#anaconda" title="Permalink to this headline">¶</a></h2>
<p>Anaconda is a Python package manager and is useful when trying out different versions of Python as there is a very convenient environment manager.  Anaconda can be installed as a user program and so root access to the computer is not needed.
The software can be downloaded from <a class="reference external" href="https://conda.io/miniconda.html">https://conda.io/miniconda.html</a> or <a class="reference external" href="https://www.anaconda.com/download/">https://www.anaconda.com/download/</a>.
Unless you are interested in the full package, miniconda installation should be sufficient for installing the rest of the modules needed for the PDielec installation.
A miniconda is the recommended environment for installing PDielec.  On windows it is necessary to run the commands in an Anaconda command terminal, which will be added to the user’s menu when miniconda is installed.</p>
<p>PDielec is available on the conda-forge channel and can be installed as show in the following couple of examples.</p>
<p>Installation using Anaconda can be performed on Linux, Windows and Mac systems.
However, there are no example files installed, only the executables.
Example files for each of the DFT packages supported can be downloaded from the Git repository.</p>
<p>The cond-forge package has a python 3 environment included in the package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span>  <span class="o">--</span><span class="n">name</span> <span class="n">pdielec</span>
<span class="n">conda</span> <span class="n">activate</span> <span class="n">pdielec</span>
<span class="n">conda</span> <span class="n">config</span> <span class="o">--</span><span class="n">add</span> <span class="n">channels</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span>
<span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">pdielec</span>
<span class="n">pdgui</span>
</pre></div>
</div>
<p>If at a later stage you want to update PDielec to the latest version from conda-forge, you should be able to update the environment in the following way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">activate</span> <span class="n">pdielec</span>
<span class="n">conda</span> <span class="n">update</span> <span class="n">pdielec</span>
</pre></div>
</div>
<p>This only works if the conda-forge channel has been added to the channel list for the environment.</p>
</div>
<div class="section" id="pypi">
<h2><a class="toc-backref" href="#id2">PyPi</a><a class="headerlink" href="#pypi" title="Permalink to this headline">¶</a></h2>
<p>If you really dont want to use Anaconda, PDielec is available on pypi.org and can be installed using pip.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">user</span> <span class="n">pdielec</span>
<span class="n">pdgui</span>
</pre></div>
</div>
</div>
<div class="section" id="github-linux">
<h2><a class="toc-backref" href="#id3">GitHub - Linux</a><a class="headerlink" href="#github-linux" title="Permalink to this headline">¶</a></h2>
<p>The package is available on GitHub and can be downloaded from <a class="reference external" href="https://github.com/JohnKendrick/PDielec">https://github.com/JohnKendrick/PDielec</a>.
cd to a directory where PDielec will be installed and use git to clone a copy of the program.  I use a ‘Software/’ directory in my home directory to store programs, so for me the commands to obtain PDielec would look like this.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">Software</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">JohnKendrick</span><span class="o">/</span><span class="n">PDielec</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>This will create a directory ~/Software/PDielec.  To make the program generally available to the user;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="o">~/</span><span class="n">Software</span><span class="o">/</span><span class="n">PDielec</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
<p>This copies the commands and modules to the ~/bin directory which should be included in your PATH environment variable.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>export PATH=~/bin;$PATH
</pre></div>
</div>
<p>As part of the installation you will have to install a number of Python packages into your enviroment.  The full list of packages is as follows;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">numpy</span>
<span class="n">scipy</span>
<span class="n">pyopengl</span>
<span class="n">matplotlib</span>
<span class="n">pyyaml</span>
<span class="n">termcolor</span>
<span class="n">xlsxwriter</span>
<span class="n">openpyxl</span>
<span class="n">pyyaml</span>
<span class="n">imageio</span>
<span class="n">imageio</span><span class="o">-</span><span class="n">ffmpeg</span>
<span class="n">sklearn</span>
</pre></div>
</div>
</div>
<div class="section" id="github-windows">
<h2><a class="toc-backref" href="#id4">GitHub - Windows</a><a class="headerlink" href="#github-windows" title="Permalink to this headline">¶</a></h2>
<p>An Anaconda installation is now the recommended way of installing to a Windows machine.  See the section on Anaconda above.  If the user still wishes to proceed with a local installation based purely on the GitHub releases, see below.</p>
<div class="section" id="standalone-installation">
<h3><a class="toc-backref" href="#id5">Standalone installation</a><a class="headerlink" href="#standalone-installation" title="Permalink to this headline">¶</a></h3>
<p>For older releases there is a Windows 10 installation script available on the GitHub at <a class="reference external" href="https://github.com/JohnKendrick/PDielec/releases">https://github.com/JohnKendrick/PDielec/releases</a> is no longer supported, but an old copy of the package will remain available there.
Releases after version 4.0 have a Windows installable script which installs all the software required to run PDielec, PDGui and PReader.  The installation includes Python 3, and all the modules that are required.  The downloadable executable is very large so be be patient.  The imageio library uses ffmpeg to create videos.  ffmpeg is not distributed with the installation script.  Instead, when creating a video of the phonon motion, PDGui checks for the availability of ffmpeg.  If it is not present then it is downloaded automatically.</p>
</div>
<div class="section" id="installation-from-repository">
<h3><a class="toc-backref" href="#id6">Installation from repository</a><a class="headerlink" href="#installation-from-repository" title="Permalink to this headline">¶</a></h3>
<p>This Windows installation is only needed if the standalone version is found to be too cumbersome.
A Windows 10 installation from the git repository which works for users without administrator rights involves a few steps but gives an installation which can run all the test cases.  In the following instructions replace ‘yourusername’ with your user name.</p>
<div class="section" id="install-git">
<h4><a class="toc-backref" href="#id7">Install git</a><a class="headerlink" href="#install-git" title="Permalink to this headline">¶</a></h4>
<p>First of all install a Windows version of git from www.git-scm.com. A 64 bit version of Windows 10 will be assumed for the following instructions.</p>
<ul class="simple">
<li><p>From the download page download and run the 64 bit Git for Windows setup.</p></li>
<li><p>During the installation install the Quick Launch and Desktop icons as these make using the program easier.</p></li>
<li><p>If you are not familar with the vi or vim editor, it is probably best to use the Nano editor, although if you wish you can install Notepad++ and use that as the default editor.</p></li>
<li><p>In the section concerning the PATH environment I would recommend the last option “Use git and optional Unix tools from the Windows Command prompt”.  This option will mean that some Windows commands eg. find and sort will be replace by the Unix commands.</p></li>
<li><p>Leave the https certificate choice as the default, namely the OpenSSL library.</p></li>
<li><p>Line endings are best left to the default setting of Windows-style for checkout and Unix-style for check-in.</p></li>
<li><p>The Console I use is the MinTTY console it has a larger scrolling buffer than the Windows console.</p></li>
<li><p>Under the “Configuring extra options” I leave everything as the default.</p></li>
</ul>
<p>I have seen a few hickups in the installation of Git.  Occasionally I have to do the installation twice and occasionally I am left with the Setup Installing window indicating that I should wait, when in fact the installation has completed.  When this happens I kill the setup process with the task manager</p>
</div>
<div class="section" id="install-make">
<h4><a class="toc-backref" href="#id8">Install make</a><a class="headerlink" href="#install-make" title="Permalink to this headline">¶</a></h4>
<p>Once you have Git installed open the “Git bash” shell and create the following directories in your home directory;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="nb">bin</span>
<span class="n">mkdir</span> <span class="n">Software</span>
</pre></div>
</div>
<p>From the web url <a class="reference external" href="http://www.equation.com/servlet/equation.cmd?fa=make">http://www.equation.com/servlet/equation.cmd?fa=make</a> download the 64-bit version of make.exe and copy it into your bin/ directory.  You should find this directory in c:usersyourusernamebin in the file manager.</p>
</div>
<div class="section" id="install-python">
<h4><a class="toc-backref" href="#id9">Install Python</a><a class="headerlink" href="#install-python" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p>From <a class="reference external" href="https://www.python.org/downloads/windows/">https://www.python.org/downloads/windows/</a> download and run the Windows x86-64 executable installer for the latest Python 3.x version</p></li>
<li><p>Uncheck install launcher for all users</p></li>
<li><p>Check “Add Python 3.x to PATH”</p></li>
<li><p>Click on “Install now” button</p></li>
<li><p>Check installation ran OK by running the Idle python environment</p></li>
</ul>
<p>Open a git bash console and type;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">scipy</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">pyopengl</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">matplotlib</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">PyYaml</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">XlsxWriter</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">openpyxl</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">termcolor</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">imageio</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">imageio</span><span class="o">-</span><span class="n">ffmpeg</span>
<span class="n">pip</span> <span class="n">install</span> <span class="n">sklearn</span>
<span class="n">pdgui</span>
</pre></div>
</div>
</div>
<div class="section" id="install-pdielec">
<h4><a class="toc-backref" href="#id10">Install PDielec</a><a class="headerlink" href="#install-pdielec" title="Permalink to this headline">¶</a></h4>
<p>Open a git bash console and type;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">Software</span>
<span class="n">git</span> <span class="n">clone</span> <span class="o">-</span><span class="n">c</span> <span class="n">core</span><span class="o">.</span><span class="n">symlinks</span><span class="o">=</span><span class="n">true</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">JohnKendrick</span><span class="o">/</span><span class="n">PDielec</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>This should create a directory in Software called PDielec.  The “-c core.symlinks=true” means that the commands; pdielec, pdgui and preader are treated as windows symlinks to their equivalent .py file.</p>
</div>
<div class="section" id="testing-pdielec">
<h4><a class="toc-backref" href="#id11">Testing PDielec</a><a class="headerlink" href="#testing-pdielec" title="Permalink to this headline">¶</a></h4>
<p>Open a git bash console.  If you have installed Python using anaconda then you need to ‘source activate’ the environment you have established before typing;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">Software</span><span class="o">/</span><span class="n">PDielec</span>
<span class="n">make</span> <span class="n">test_preader</span>
<span class="n">make</span> <span class="n">test_pdgui</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-pdielec-to-run-in-any-git-bash-console">
<h4><a class="toc-backref" href="#id12">Installing PDielec to run in any git bash console</a><a class="headerlink" href="#installing-pdielec-to-run-in-any-git-bash-console" title="Permalink to this headline">¶</a></h4>
<p>Open a git bash console and type;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">Software</span><span class="o">/</span><span class="n">PDielec</span>
<span class="n">export</span> <span class="n">SCRIPTS</span><span class="o">=~/</span><span class="nb">bin</span>
<span class="n">make</span> <span class="n">install</span>
</pre></div>
</div>
</div>
<div class="section" id="updating-pdielec-from-the-git-repository">
<h4><a class="toc-backref" href="#id13">Updating PDielec from the git repository</a><a class="headerlink" href="#updating-pdielec-from-the-git-repository" title="Permalink to this headline">¶</a></h4>
<p>Open a git bash console and type;:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">Software</span><span class="o">/</span><span class="n">PDielec</span>
<span class="n">git</span> <span class="n">pull</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="github-pdielec-directory-structure">
<h2><a class="toc-backref" href="#id14">GitHub - PDielec directory structure</a><a class="headerlink" href="#github-pdielec-directory-structure" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>PDielec/ is the home directory and contains the <cite>pdielec</cite> and <cite>preader</cite> commands</p></li>
<li><p>PDielec/Python holds the source for the modules used by the pdielec and preader commands</p></li>
<li><p>PDielec/Python/GUI holds the python code for PDGui</p></li>
<li><p>PDielec/Examples a set of examples are available for Abinit, Crystal14, CASTEP, GULP, Phonopy, Mie and VASP.  Each example directory holds the input files to the QM/MM program and the relevant output files which are post processed by PDielec.  For each program there is also a preader directory which holds test output for the preader command.</p></li>
<li><p>PDielec/Sphinx holds the documentation as restructured text documents (.rst).  Sphinx can be used to build the documentation in either html or pdf format.</p></li>
<li><p>PDielec/docs holds the final html documentation.</p></li>
</ul>
</div>
<div class="section" id="examples">
<h2><a class="toc-backref" href="#id15">Examples</a><a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Each example directory has the relevant input data sets use to run the QM/MM program and the output files from that run which are post-processed by PDielec.  There is a file <cite>script.py</cite> which contains an of PDGui usage line and which has been used to create the reference output file <cite>results.ref.xlsx</cite>.  The example can be run interactively:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">pdgui</span><span class="o">-</span><span class="n">view</span>
</pre></div>
</div>
<p>The output can be compared with the reference data to see if the program is working correctly.</p>
<p>The main Examples/ directory also has a  Makefile file which can be used to verify the correct working of the package.  Simply by typing <cite>make</cite> in the Examples directory each example will be run automatically and the output compared with the reference files.  To remove the intermediate files after running the tests automatically, type <cite>make clean</cite>.</p>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="introduction.html">Introduction</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="software.html">Software components</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, John Kendrick and Andrew Burnett.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>